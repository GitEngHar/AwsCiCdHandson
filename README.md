# CiCdHandsOn
GithubAction や awsを用いたCICDを手を動かしていろいろやっていくリポジトリ

## CICDを知ろう

### CICDって何ですか??

継続的インテグレーション CI / 継続的デリバリー CD


- CI
  - 変更した機能で **イメージのビルド** や **単体テスト** を自動化
  - 開発したソースコードに **脆弱性がないか診断** や **プログラムのお作法に問題は無いか**
- CD
  - 開発したアプリケーションを本番環境へ **デプロイ(変更されたイメージを本番アプリケーションに反映)** する

素早い変更の統合(インテグレーション) と デプロイ を実施することで、市場のニーズに常に対応でき、競争力を保つことができる

※image

## 百聞は一見に如かず

### CICDを使わない世界

ローカル環境でイメージファイルを作成して、アプリケーションを起動します

CI : イメージのビルド、リポジトリへのPush
CD : 本番環境へのデプロイ

1. イメージ構築環境でGithubリポジトリをclone
2. アプリに変更を加える
3. 変更されたDockerImageを作成
4. ImageをAWS ECR へPush
5. 新規Imageのアプリケーション定義を作成
6. タスク・コンテナ等のアプリケーション実行リソースにデプロイする

- 本来は、以下のようになっており、実演した内容よりもっと手間がかかる
    - ローカルではなくクラウド環境や、自社のオンプレで動いている
    - リポジトリも社内DockerリポジトリやAWS ECRなど
    - 単体テスト・脆弱性診断・コード診断

### CICDを使った世界

CI/CD実行 : githubActionで定義
デプロイ設定 : aws codedeploy (cloudformationで管理)

1. ローカル作業pcでGithubリポジトリをclone
2. アプリに変更を加える
3. 変更をGithub リポジトリ に反映

Imageの作成とアプリケーションへの反映は自動で実施される
※検証環境でのデプロイを想定した流れ

### CICDのココが凄い (まとめ)

CICD前
```text
1. イメージ構築環境でGithubリポジトリをclone
2. アプリに変更を加える
3. 変更されたDockerImageを作成
4. ImageをAWS ECR へPush
5. 新規Imageのアプリケーション定義を作成
6. タスク・コンテナ等のアプリケーション実行リソースにデプロイする
```

CICD後
```text
1. ローカル作業pcでGithubリポジトリをclone
2. アプリに変更を加える
3. 変更をGithub リポジトリ に反映
```

素早い変更の統合(インテグレーション) と デプロイ を実施することで、市場のニーズに常に対応でき、競争力を保つことができる
